# 第九章 搜索页开发

## 第一节 搜索页设计

## 页面组件拆分

- 输入
- 内容区
  - 历史
  - 建议
  - 结果

## 接口

- 热门词汇
- 搜索结果
- 搜索建议

## 页面首次加载

- keyword 非空： 显示搜索结果
- keyword 空： 显示搜索历史

## 用户输入交互

- 输入框 focus，值改变非空： 显示搜索建议，请求搜索建议数据
- 输入框 focus, 值改变为空： 显示搜索历史
- 输入框 blur, 确认搜索： 显示搜索结果，请求搜索结果数据

## 搜索建议

- 点击建议：显示搜索结果，请求搜索结果数据

## 搜索历史

- 点击热门词汇： 显示搜索结果，请求搜索结果数据
- 点击历史搜索： 显示搜索结果，请求搜索结果数据

## 页面 F5 刷新如何保持搜索结果？

- 使用 url 参数保存搜索关键字
- 确认搜索的同时：需要将搜索关键字同步到 url 参数上

## 总结

js 保存的数据在页面刷新的会丢失，页面刷新保存数据的几种方式：

- 服务端接口数据
- localStorage
- URL
